<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Purchase Order Generator (PHP)</title>
    <style>
        /* --- CSS STYLING --- */
        :root {
            --primary: #1a5276;
            --secondary: #2e4053;
            --accent: #27ae60;
            --danger: #c0392b;
            --border: #d5dbdb;
            --bg: #f4f7f6;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg);
            margin: 0;
            padding: 40px 20px;
            color: #2c3e50;
        }

        .po-wrapper {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 50px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
            border-radius: 4px;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            border-bottom: 4px solid var(--primary);
            padding-bottom: 20px;
            margin-bottom: 30px;
        }

        .header h1 {
            margin: 0;
            font-size: 28px;
            color: var(--primary);
            text-transform: uppercase;
        }

        .meta-info { text-align: right; }
        .meta-info div { margin-bottom: 8px; }
        .meta-info label { font-weight: bold; margin-right: 5px; }

        .address-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-bottom: 40px;
        }

        .address-box h3 {
            font-size: 13px;
            text-transform: uppercase;
            color: #7f8c8d;
            border-bottom: 1px solid var(--border);
            padding-bottom: 5px;
            margin-bottom: 10px;
        }

        textarea {
            width: 100%;
            height: 90px;
            border: 1px solid transparent;
            font-family: inherit;
            font-size: 14px;
            resize: none;
            padding: 5px;
        }

        textarea:focus {
            border: 1px solid var(--border);
            outline: none;
            background: #fdfefe;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        th {
            background-color: var(--primary);
            color: white;
            padding: 12px;
            text-align: left;
            font-size: 13px;
        }

        td {
            padding: 10px;
            border-bottom: 1px solid var(--border);
        }

        input[type="text"], input[type="number"] {
            width: 100%;
            padding: 8px;
            border: 1px solid #eee;
            border-radius: 3px;
        }

        .col-qty { width: 80px; }
        .col-price { width: 150px; }
        .col-total { width: 150px; font-weight: bold; text-align: right; }
        .col-action { width: 40px; text-align: center; }

        .footer-grid {
            display: flex;
            justify-content: flex-end;
            margin-top: 30px;
        }

        .totals-table { width: 320px; }
        .total-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #f2f3f4;
        }

        .grand-total-row {
            font-size: 18px;
            font-weight: bold;
            color: var(--primary);
            border-bottom: 2px solid var(--primary);
            padding-top: 15px;
        }

        .controls { text-align: center; margin-top: 30px; }
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
        }

        .btn-add { background: var(--accent); color: white; margin-bottom: 10px; }
        .btn-print { background: var(--primary); color: white; padding: 15px 40px; font-size: 16px; }
        .btn-delete { background: var(--danger); color: white; padding: 5px 8px; }

        /* Print Settings */
        @media print {
            body { background: white; padding: 0; }
            .po-wrapper { box-shadow: none; border: none; width: 100%; padding: 10px; }
            .no-print { display: none !important; }
            input, textarea { border: none !important; background: transparent !important; color: black !important; }
            th { background-color: #f2f3f4 !important; color: black !important; border-bottom: 2px solid #000; }
        }
    </style>
</head>
<body>

    <div class="po-wrapper">
        <header class="header">
            <div>
                <h1>Purchase Order</h1>
                <p style="margin: 5px 0 0; color: #7f8c8d;">Official Order Document</p>
            </div>
            <div class="meta-info">
                <div>
                    <label>PO No:</label>
                    <input type="text" value="2026-PH-001" style="width: 130px;">
                </div>
                <div>
                    <label>Date:</label>
                    <input type="date" id="po-date" style="width: 140px;">
                </div>
            </div>
        </header>

        <section class="address-grid">
            <div class="address-box">
                <h3>Vendor Info</h3>
                <textarea placeholder="Supplier Name&#10;Street Address&#10;City, Province, Zip"></textarea>
            </div>
            <div class="address-box">
                <h3>Delivery Address</h3>
                <textarea placeholder="Company Name&#10;Contact Person&#10;Shipping Address"></textarea>
            </div>
        </section>

        <table>
            <thead>
                <tr>
                    <th>Item Description</th>
                    <th class="col-qty">Qty</th>
                    <th class="col-price">Unit Price (₱)</th>
                    <th class="col-total">Total (₱)</th>
                    <th class="col-action no-print"></th>
                </tr>
            </thead>
            <tbody id="line-items">
                </tbody>
        </table>

        <button class="btn btn-add no-print" onclick="addRow()">+ Add Line Item</button>

        <div class="footer-grid">
            <div class="totals-table">
                <div class="total-row">
                    <span>Subtotal:</span>
                    <span id="subtotal-val">₱0.00</span>
                </div>
                <div class="total-row">
                    <span>VAT Rate (%):</span>
                    <input type="number" id="tax-rate" value="12" oninput="calculateTotals()" style="width: 60px; text-align: right;">
                </div>
                <div class="total-row">
                    <span>VAT Amount:</span>
                    <span id="tax-val">₱0.00</span>
                </div>
                <div class="total-row grand-total-row">
                    <span>GRAND TOTAL:</span>
                    <span id="grand-total-val">₱0.00</span>
                </div>
            </div>
        </div>

        <div style="margin-top: 60px; font-size: 11px; color: #7f8c8d; border-top: 1px solid #eee; padding-top: 10px;">
            <p><strong>Terms:</strong> Standard 30-day payment term applies upon receipt of invoice. Please specify the PO number on all shipping documents.</p>
        </div>
    </div>

    <div class="controls no-print">
        <button class="btn btn-print" onclick="window.print()">Generate PDF / Print PO</button>
    </div>

    <script>
        // Set Today's Date
        document.getElementById('po-date').valueAsDate = new Date();

        function addRow() {
            const tbody = document.getElementById('line-items');
            const row = document.createElement('tr');

            row.innerHTML = `
                <td><input type="text" placeholder="Enter item name..." class="input-desc"></td>
                <td><input type="number" value="1" min="1" class="input-qty" oninput="calculateTotals()"></td>
                <td><input type="number" value="0.00" step="0.01" class="input-price" oninput="calculateTotals()"></td>
                <td class="col-total row-sum">₱0.00</td>
                <td class="col-action no-print">
                    <button class="btn btn-delete" onclick="removeRow(this)">✕</button>
                </td>
            `;

            tbody.appendChild(row);
            calculateTotals();
        }

        function removeRow(btn) {
            btn.closest('tr').remove();
            calculateTotals();
        }

        // Philippine Currency Formatter
        const phpFormatter = new Intl.NumberFormat('en-PH', {
            style: 'currency',
            currency: 'PHP',
            minimumFractionDigits: 2
        });

        function calculateTotals() {
            const rows = document.querySelectorAll('#line-items tr');
            let subtotal = 0;

            rows.forEach(row => {
                const qty = parseFloat(row.querySelector('.input-qty').value) || 0;
                const price = parseFloat(row.querySelector('.input-price').value) || 0;
                const total = qty * price;

                row.querySelector('.row-sum').innerText = phpFormatter.format(total);
                subtotal += total;
            });

            const taxRate = parseFloat(document.getElementById('tax-rate').value) || 0;
            const taxAmount = subtotal * (taxRate / 100);
            const grandTotal = subtotal + taxAmount;

            document.getElementById('subtotal-val').innerText = phpFormatter.format(subtotal);
            document.getElementById('tax-val').innerText = phpFormatter.format(taxAmount);
            document.getElementById('grand-total-val').innerText = phpFormatter.format(grandTotal);
        }

        // Initialize with one row
        window.onload = addRow;
    </script>
</body>
</html>
